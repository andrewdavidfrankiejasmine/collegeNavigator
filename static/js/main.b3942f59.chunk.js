(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(91)},52:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(42),r=a.n(o),l=a(5),c=a(6),i=a(8),m=a(7),u=a(9),d=a(18),h=a(17),p=(a(52),a(16)),f=a(23),E=a.n(f),N=a(14),b=a.n(N);b.a.initializeApp({apiKey:"AIzaSyA4yDbpMJo_81wiX8tvikLe7fkrVeJuo4w",authDomain:"collegenav-2e04d.firebaseapp.com",databaseURL:"https://collegenav-2e04d.firebaseio.com",projectId:"collegenav-2e04d",storageBucket:"collegenav-2e04d.appspot.com",messagingSenderId:"261170856716",appId:"1:261170856716:web:a7953ec167b2a338"});var v=b.a;var S=function(e){return s.a.createElement("div",{className:"modalWrapper ".concat(e.modalStatus)},function(){for(var t in e.schoolMoreInfo)return!1;return!0}()?null:function(){var t=e.schoolMoreInfo,a=t.bestPhoto,o=t.name,r=t.contact,l=t.location,c=t.description,i=t.url;return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"detailsOverlay"}),s.a.createElement("div",{className:"detailsModal"},s.a.createElement("div",{className:"detailsFlex"},s.a.createElement("button",{onClick:e.closeMe,className:"closeButton"},s.a.createElement("i",{className:"fas fa-times"})),void 0!==a?s.a.createElement("div",{className:"imgWrapper"},s.a.createElement("img",{src:"".concat(a.prefix,"400x400").concat(a.suffix),alt:"".concat(o)})):null,s.a.createElement("div",{className:"smallInfoWrapper"},s.a.createElement("p",null,o),s.a.createElement("p",null,l.formattedAddress),r.twitter?s.a.createElement("p",null,s.a.createElement("span",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/".concat(r.twitter)},s.a.createElement("i",{class:"fab fa-twitter"})))," ",r.twitter):null,r.facebook?s.a.createElement("p",null,s.a.createElement("span",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/".concat(r.facebook)},s.a.createElement("i",{class:"fab fa-facebook"})))," ",r.facebook):null,r.formattedAddress?s.a.createElement("p",null,s.a.createElement("span",null,s.a.createElement("i",{class:"fas fa-phone"}))," ",r.formattedPhone):null),s.a.createElement("div",{className:"descriptionWrapper"},void 0!==c?s.a.createElement("p",null,c):null,void 0!==i?s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:i},"Visit Website"," "):null))))}())},g=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleClick=function(t){"fas fa-bookmark"===t?b.a.database().ref().once("value",function(t){var a=t.val(),n=[];for(var s in a)n.push({dbKey:s,id:a[s].id});n.forEach(function(t){t.id===e.props.bookmarkId&&(e.setState({bookmark:"far fa-bookmark"}),b.a.database().ref(t.dbKey).remove())})}):"far fa-bookmark"===t&&(e.setState({bookmark:"fas fa-bookmark"}),e.props.addNote(e.props.bookmarkId))},e.state={bookmark:"far fa-bookmark"},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.database().ref().once("value",function(t){var a=t.val(),n=[];for(var s in a)n.push({id:a[s].id});null!==n&&n.length>0&&n.forEach(function(t){t.id===e.props.bookmarkId&&e.setState({bookmark:"fas fa-bookmark"})})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"bookmarkPosition"},s.a.createElement("button",{className:"bookmark"},s.a.createElement("i",{className:"".concat(this.state.bookmark," bookmarkIcon"),onClick:function(){return e.handleClick(e.state.bookmark)}})))}}]),t}(n.Component),C=a(24),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).addNote=function(t){e.props.setBookmarkState(t)},e.closeMe=function(){e.setState({modalStatus:"close"})},e.moreInfo=function(t){e.setState({moreInfoID:t}),E.a.get("https://api.foursquare.com/v2/venues/".concat(t),{params:{client_id:e.state.clientID[e.state.keyCounter],client_secret:e.state.clientSecret[e.state.keyCounter],v:20190101}}).then(function(t){var a=t.data.response.venue;e.setState({schoolMoreInfo:a,modalStatus:"open"})}).catch(function(t){429===t.response.status&&(e.state.keyCounter<e.state.clientID.length-1?e.setState({keyCounter:e.state.keyCounter+1},function(){e.moreInfo(e.state.moreInfoID)}):e.setState({keyCounter:0})),t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message),console.log(t.config)})},e.handleChange=function(t){if(e.setState({userSearch:t.target.value}),""===t.target.value||null===t.target.value)e.setState({schoolsList:e.props.schoolsList});else{var a=e.props.schoolsList.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t.target.value.toLowerCase())});e.setState({schoolsList:a})}},e.state={bookmarked:!1,schoolMoreInfo:{},modalStatus:"close",clientID:["JYPGSEYBVO44BBH553GNVMI1OCUCDFTFZUS2H0X5JLMCMOVY","FIQECXQNZC4NEV00SFTF3535BMLFZSUW2XXHXEERFGTTCJDG","CJ4XSVLTY1JQ3SPHZV00JRFHCFAIXO5Y1HAASCOPGXG3URXV","MATE2LSJXUO3JS3LXR1NMMTSUE1PGF15ADCMGRUA23UCVVDM","QZIM15RPPGTGIA5QB0NA3ZMK3UUOSR1GU12SJLQG1MOYRNPA","NJZBAFQGJBCPNIDWS2FJ4OC1SCXB34QCAFPVJDDBKU2GANFO","VGQEXUC1OBLYR2OGNSCLDDA0Z3V1XYT35BVUR5KXOZ2SER5A","WWHHWA0S4GFHODY54K2FZS5XP1YROPRBPDRVG31MUMNGKDMM","2NFNP2CN0KXN5G0INYBVQZOZUIC0D3XT0FOZXZRPVQN4GZZA","VMT1CVWVRRTVEEOJWSER3UPCWUKR11INNAGCYRFDVGNCT4Y5","SUXPJ05HNSW0NCIBMJJ2SHHA3DJMYBLM4FVFPOG5Y1TA3VC1","SSZTT4XQDRSNJDAJVQTNGBUSM1ABD32WT1VG3C5Z1XND33H2","EI1UC5BD2LNXQGTNN4SW0DZMDI5W3QNQ3A4ZNCEWP54ZSY0JClient"],clientSecret:["XBVDWZV2LUQS3RUWTMJJQVJMKZY5HACXHKCGT4ZXVHHXX5K3","EQZ42P3U5DO5PVOQVKG4AQFEDUAPVQ4ZTIOEDDLMER2EJFJX","WUABEMQMIZBR2LSKFURNG4NY2IF10CDAPAX0QSWWYGFGV2ZP","SZRKDMSYSFHU23FQLJR4VXRLHBBQQC1MLJCKSACB5A2EVGPS","VUM2WEQ55KAX3405NTCPFR145DKCD3FUS5YM0GWNJYXEJGA2","HBFVKQJJDP4HLH0F4DG15DMXRV1GMOMH0LTIFSMFMYYLGNFB","3TNU5JJ4EPOKSBEHMLUXJTXBUJTFNRYG5EO203ITHUAHOO5C","DV2P4N505ZWOEGEZQUCDQ0FV5OJ3HDW1RVL44VQQYCNC13QW","5EWVDITYF2KCEB4ZHY32TN0XV31ONYEDXX5A1YMPDBMBHLIC","3XQL24IHR2TIODEGQ5WH0CW03K3E2G4OCR4VAORZ23CNHZRO","0KKBUXNYC4HWALSJTL2UA0QGZJQQ5X0UOZIPK5ROL03RPPZA","KMO0VYQBDDXMGZ2QM4BJIFB2D0TB0ZMCEWE3LW1KBO2LIIH2","D50NHW2CPNKH1I3APUMVBT4XON33QK3HLW225P5N023MXL4O"],keyCounter:0,moreInfoID:null,userSearch:"",schoolsList:[]},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({schoolsList:e.schoolsList})}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"schoolResults wrapper","aria-live":"polite"},s.a.createElement(C.CircleArrow,{AnimationDuration:500,ShowAtPosition:350,style:{fill:"#073330",height:30,width:30,right:15,border:"3px solid #073330",background:"rgba(255, 255, 255, 0.548)"}}),this.state.schoolsList.length>0?s.a.createElement("div",{className:"schoolsListSearchInput singleContent"},s.a.createElement("label",{htmlFor:"schoolsListSearch"},"Filter Search:"),s.a.createElement("input",{type:"text",placeholder:"search",name:"userSearch",value:this.state.userSearch,id:"schoolsListSearch",className:"schoolsListSearch",onChange:this.handleChange})):null,s.a.createElement("div",{className:"schoolsList"},Array.isArray(this.state.schoolsList)?this.state.schoolsList.map(function(t){var a=t.id,n=t.name,o=t.location,r=o.address,l=o.city,c=o.country;return s.a.createElement("div",{key:a,className:"result singleContent"},s.a.createElement("p",{className:"resultName"},n),s.a.createElement("p",{className:"resultAddress"},r," - ",l),s.a.createElement("p",{className:"resultCountry"},c),s.a.createElement(g,{bookmarkId:a,addNote:e.addNote}),s.a.createElement("button",{className:"generalButton",onClick:function(){return e.moreInfo(a)}},"More Info"))}):s.a.createElement("div",{className:"noResult singleContent"},s.a.createElement("p",{className:"resultName"},this.props.schoolsList)))),s.a.createElement(S,{schoolMoreInfo:this.state.schoolMoreInfo,modalStatus:this.state.modalStatus,closeMe:this.closeMe}))}}]),t}(n.Component),y=a(25),O=a(20),I=a.n(O),A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).apiCall=function(){E.a.get("https://api.foursquare.com/v2/venues/search",{params:{client_id:"JYPGSEYBVO44BBH553GNVMI1OCUCDFTFZUS2H0X5JLMCMOVY",client_secret:"XBVDWZV2LUQS3RUWTMJJQVJMKZY5HACXHKCGT4ZXVHHXX5K3",v:20190101,near:e.state.userInput,categoryId:e.state.institution,radius:25e3,intent:"checkin",limit:50}}).then(function(t){var a=/centre|center|park|building|pool|hall|office of le president|division of|department|campus|residence|faculty|campus|public|room/i,n=t.data.response.venues.filter(function(e){var t=e.categories[0].shortName;return("University"===t||"Community College"===t||"Trade School"===t)&&!a.test(e.name)&&void 0!==e.location.address});e.setState({schoolsList:n})}).catch(function(t){t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):t.request?console.log(t.request):console.log("Error",t.message),400===t.response.status?e.setState({schoolsList:"We're sorry.  There are zero results for your search."}):429===t.response.status&&e.setState({schoolsList:"You have exceeded your daily limit of searches. You should probably go outside..."})})},e.setBookmarkState=function(t){e.state.schoolsList.forEach(function(e){e.id===t&&v.database().ref().push({name:e.name,address:e.location.address,id:e.id})})},e.handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log("submitted"),console.log(e.state.userInput),console.log(e.state.institution.length),0===e.state.institution.length||0===e.state.userInput.length?I()({title:"oops",text:"please make sure all fields are entered",icon:"warning"}):!1===/^\s*$/.test(e.state.userInput)?(e.apiCall(),Object(y.a)(".schoolResults",{duration:1e3,offset:-50,a11y:!0})):I()({title:"oops",text:"please enter a search",icon:"warning"})},e.state={userInput:"",schoolsList:[],selectSchoolId:"",institution:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"searchContainer"},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"searchForm"},s.a.createElement("div",{className:"smallWrapper"},s.a.createElement("div",{className:"radioButtons"},s.a.createElement("input",{type:"radio",name:"institution",id:"university",className:"radioButtonDot",value:"4bf58dd8d48988d1ae941735",onChange:this.handleChange,checked:"4bf58dd8d48988d1ae941735"===this.state.institution}),s.a.createElement("label",{className:"radioButtonLabel",htmlFor:"university"},"University"),s.a.createElement("input",{type:"radio",name:"institution",id:"college",className:"radioButtonDot",value:"4bf58dd8d48988d1a2941735",onChange:this.handleChange,checked:"4bf58dd8d48988d1a2941735"===this.state.institution}),s.a.createElement("label",{className:"radioButtonLabel",htmlFor:"college"},"College"),s.a.createElement("input",{type:"radio",name:"institution",id:"trade",className:"radioButtonDot",value:"4bf58dd8d48988d1ad941735",onChange:this.handleChange,checked:"4bf58dd8d48988d1ad941735"===this.state.institution}),s.a.createElement("label",{className:"radioButtonLabel",htmlFor:"trade"},"Trade School")),s.a.createElement("label",{className:"userInputLabel",htmlFor:"search"},"Schools Near:"),s.a.createElement("input",{className:"userInput",type:"text",name:"userInput",id:"search",onChange:this.handleChange,value:this.state.userInput}),s.a.createElement("label",{htmlFor:"submit",className:"visuallyHidden"},"Submit Search"),s.a.createElement("input",{className:"generalButton",type:"submit",id:"submit",value:"Get Schools List"}))),s.a.createElement(k,{schoolsList:this.state.schoolsList,setBookmarkState:this.setBookmarkState,userSelectSchoolId:this.userSelectSchoolId}))}}]),t}(n.Component);var L=function(){return s.a.createElement("header",null,s.a.createElement("nav",{className:"nav wrapper"},s.a.createElement(d.b,{to:"/",className:"navLink"},s.a.createElement("h1",null,"College Navigator")),s.a.createElement("ul",{className:"navList"},s.a.createElement("li",{className:"navItem"},s.a.createElement(d.b,{to:"/",className:"navLink"},"Search")),s.a.createElement("li",{className:"navItem"},s.a.createElement(d.b,{to:"/notes",className:"navLink"},"Bookmarks")))))},F=a(46),M=a.n(F),D=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a;e.setState((a={},Object(p.a)(a,t.target.name,t.target.value),Object(p.a)(a,"id",M.a.v4()),a))},e.onSubmit=function(t){""!==e.state.name&&""!==e.state.address&&!1===/^\s*$/.test(e.state.name)&&!1===/^\s*$/.test(e.state.address)&&""!==e.state.category?(b.a.database().ref().push(e.state),e.setState({name:"",address:"",note:"",category:"",id:""})):I()({title:"oops",text:"please enter required fields",icon:"warning"});t.preventDefault()},e.state={name:"",address:"",note:"",category:"",id:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:"inputSchoolForm singleContent",onSubmit:this.onSubmit},s.a.createElement("div",{className:"inputFieldContainer"},s.a.createElement("label",{htmlFor:"inputSchoolName"},"Name of Institution:"),s.a.createElement("input",{type:"text",placeholder:"Name",id:"inputSchoolName",className:"inputSchoolName",name:"name",value:this.state.name,onChange:this.onChange})),s.a.createElement("div",{className:"inputFieldContainer"},s.a.createElement("label",{htmlFor:"inputSchoolAddress"},"Address:"),s.a.createElement("input",{type:"text",placeholder:"Address",id:"inputSchoolAddress",className:"inputSchoolAddress",name:"address",value:this.state.address,onChange:this.onChange})),s.a.createElement("fieldset",{className:"inputFieldContainerRadio"},s.a.createElement("legend",{className:"visuallyHidden"},"Category:"),s.a.createElement("input",{className:"radioButtonDot",type:"radio",name:"category",id:"college",value:"college",onChange:this.onChange,checked:"college"===this.state.category}),s.a.createElement("label",{htmlFor:"college"},"College"),s.a.createElement("input",{className:"radioButtonDot",type:"radio",name:"category",id:"university",value:"university",onChange:this.onChange,checked:"university"===this.state.category}),s.a.createElement("label",{htmlFor:"university"},"University"),s.a.createElement("input",{className:"radioButtonDot",type:"radio",name:"category",id:"tradeSchool",value:"tradeSchool",onChange:this.onChange,checked:"tradeSchool"===this.state.category}),s.a.createElement("label",{htmlFor:"tradeSchool"},"Trade School")),s.a.createElement("div",{className:"inputFieldContainer"},s.a.createElement("label",{htmlFor:"inputSchoolNote"},"Note (optional):"),s.a.createElement("textarea",{id:"inputSchoolNote",placeholder:"Note",className:"inputSchoolNote",name:"note",value:this.state.note,onChange:this.onChange})),s.a.createElement("label",{htmlFor:"inputSchoolSubmit",className:"visuallyHidden"},"Submit"),s.a.createElement("input",{type:"submit",id:"inputSchoolSubmit",className:"inputSchoolSubmit generalButton",value:"Save"}))}}]),t}(n.Component),B=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.editNote=function(t){var a=e.state.bookmarkList.find(function(e){return e.key===t});e.setState({modalOpen:"open",selectedId:t,userName:a.name,userAddress:a.address,userNote:a.note})},e.handleSubmit=function(t){t.preventDefault();var a=v.database().ref(e.state.selectedId);""!==e.state.userName&&a.child("name").set(e.state.userName),""!==e.state.userAddress&&a.child("address").set(e.state.userAddress),""!==e.state.userNote&&a.child("note").set(e.state.userNote),e.closeModal(),e.setState({userNote:"",userAddress:"",userName:""})},e.editNote=function(t){var a=e.state.bookmarkList.find(function(e){return e.key===t});e.setState({modalOpen:"open",selectedId:t,userName:a.name,userAddress:a.address,userNote:a.note})},e.removeNote=function(e){v.database().ref(e).remove()},e.closeModal=function(){e.setState({modalOpen:"close"})},e.handleScroll=function(){Object(y.a)(".inputSchoolForm",{duration:1e3,a11y:!0})},e.state={bookmarkList:[],userNote:"",userName:"",userAddress:"",modalOpen:"close",selectedId:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.database().ref().on("value",function(t){var a=t.val(),n=[];for(var s in a)n.push({key:s,name:a[s].name,address:a[s].address,id:a[s].id,note:a[s].note});e.setState({bookmarkList:n})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"noteContainer wrapper"},s.a.createElement("div",{className:"bookmarks"},s.a.createElement("h2",null,"BOOKMARKS")),s.a.createElement("button",{onClick:this.handleScroll,className:"addSign"},s.a.createElement("i",{className:"fas fa-plus"}),s.a.createElement("p",null,"Add Institution")),s.a.createElement("div",{className:"modalWrapper ".concat(this.state.modalOpen)},s.a.createElement("div",{className:"detailsOverlay"}),s.a.createElement("div",{className:"detailsModal"},s.a.createElement("button",{onClick:this.closeModal,className:"closeButton"},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("form",{action:"",className:"editForm",onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"name"},"Name of Institution:"),s.a.createElement("input",{type:"text",id:"name",name:"userName",onChange:this.handleChange,value:this.state.userName}),s.a.createElement("label",{htmlFor:"address"},"Address:"),s.a.createElement("input",{type:"text",id:"address",name:"userAddress",onChange:this.handleChange,value:this.state.userAddress}),s.a.createElement("label",{htmlFor:"addNote"},"Add Note"),s.a.createElement("textarea",{onChange:this.handleChange,value:this.state.userNote,name:"userNote"}),s.a.createElement("input",{className:"generalButton",type:"submit",value:"enter"})))),s.a.createElement("div",{className:"notes"},this.state.bookmarkList.map(function(t){return s.a.createElement("div",{key:t.key,className:"singleNote singleContent"},s.a.createElement("p",{className:"schoolName"},"Institution: ",t.name),s.a.createElement("p",{className:"address"}," Address: ",t.address),s.a.createElement("p",{className:"note"}," Note: ",t.note),s.a.createElement("button",{className:"generalButton",onClick:function(){e.editNote(t.key)}},s.a.createElement("i",{className:"fas fa-pen"}),"Edit"),s.a.createElement("button",{className:"generalButton",onClick:function(){e.removeNote(t.key)}},s.a.createElement("i",{className:"fas fa-trash-alt"}),"Delete"))}),s.a.createElement(C.CircleArrow,{AnimationDuration:500,ShowAtPosition:350,style:{fill:"#073330",height:30,width:30,right:15,border:"3px solid #073330",background:"rgba(255, 255, 255, 0.548)"}})),s.a.createElement(D,null))}}]),t}(n.Component);var V=function(){return s.a.createElement("footer",null,s.a.createElement("p",null,"Powered! by ",s.a.createElement("a",{href:"https://developer.foursquare.com/"},"Foursquare API")),s.a.createElement("p",null,"Made by Andrew, David, Frankie and Jasmine"))},X=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement(L,null),s.a.createElement(h.a,{exact:!0,path:"/",component:A}),s.a.createElement(h.a,{path:"/notes",component:B}),s.a.createElement(V,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.b3942f59.chunk.js.map